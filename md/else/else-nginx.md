# Nginx和前端开发

## Nginx和Node.js

> "nginx"是一款轻量级的HTTP服务器，采用事件驱动异步非阻塞处理方式框架，使其拥有极好的IO性能，经常用于反向代理或者负载均衡。"

在工作中，由于一些特殊的原因，对于前端来说，最快最便捷的就是用Nodejs来搭建服务器，对Nginx有一定的抗拒。不过Nginx中的大部分功能和Nodejs是不冲突的。Nginx更加适用于底层服务端资源的处理，比如静态资源处理转发，反向代理，负载均衡等。而Nodejs更直接的用于具体业务逻辑的处理。所以两者如何配合起来，能够更方便的开发和处理一些问题。

## 正向代理
客户端（找到代理向服务方发起请求）向服务方发起请求，这种情况就是<code>正向代理</code>。正向代理主要用于科学上网。  
简单点说: 客户端和代理服务器可以直接互相访问，属于一个局域网。也就是说用户的操作被发送到代理服务器，代理服务器通过代理用户端的请求向域外的服务器请求响应内容。

## 反向代理
客户端发送请求（被发送到一个代理服务器proxy），这个代理服务器把请求代理到和自己属于同一个局域网的内部服务器上，用户需要的响应内容就在这些内部服务器上。  

简单点说: 代理服务器和真正的服务器可以互相访问，属于一个局域网。不管加不加这个反向代理，用户都是通过相同的请求进行访问。代理服务器通过代理内部服务器接受域外客户端的请求，并将请求发送到对应的内部服务器上。  

### 为什么要用Nginx
* 安全、权限   
假设使用的反向代理，那么用户将无法直接通过请求来访问真正的服务器，而是必须先通过Nginx，然而我们可以通过Nginx层将危险或者没有全县的请求内容过滤掉，这样可以保证真正服务器的安全。
* 负载均衡    
假设一个网站的内容被部署到了若干台服务器上，这样Nginx可以将接收到的客户端请求分别分配到这堆服务器上，通过负载均衡算法，实现服务器压力的负载均衡。并且Nginx还会定期来检查是否有服务器存在异常，如果发现某一台异常的话，那么代理进来的用户请求都不会被发送到这台有异常的服务器上，这样可以保证用户端访问的稳定性。

